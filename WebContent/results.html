<!-- <%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%> -->
<!DOCTYPE html>
<html>
<head>
    <!-- Eclipse put this here.. -->
    <!-- <meta charset="ISO-8859-1"> -->

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <title>Insert title here</title>

    <style type="text/css">
        body {
            background-color: #f5f5f5; /* white smoke background */
        }

        #outer-wrapper {
            height: 100vh;
        }

        #collage-wrapper {
            height: 40vh;
            width: 50vw;
        }

        .overlays {
            position: absolute;
        } 

        /* For the tables within the tables (in the results listings)
            Keeps the tables from having stripes within stripes
         */
        .nested-tr {
            background-color: inherit;
        }


        /*.navbar.fixed-right {
            position: fixed;
            top: 0;
            right: 0;
            z-index: 0;
        }*/

    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

</head>
<body>
    <div id="outer-wrapper" class="container" style="height: 100vh">
        <div class="row my-5">
            <div class="col h-100">
                <div id="collage-wrapper" class="container my-6 mr-5 pr-5 pb-5">
                    <!-- TODO Collage here -->
                    <!-- <img src="https://res.cloudinary.com/teepublic/image/private/s--fX47AfFz--/t_Preview/b_rgb:0f7b47,c_limit,f_jpg,h_630,q_90,w_630/v1465397214/production/designs/536781_1.jpg" class="img-fluid">
                    <img src="https://res.cloudinary.com/teepublic/image/private/s--fX47AfFz--/t_Preview/b_rgb:0f7b47,c_limit,f_jpg,h_630,q_90,w_630/v1465397214/production/designs/536781_1.jpg" class="img-fluid">
                    <img src="https://res.cloudinary.com/teepublic/image/private/s--fX47AfFz--/t_Preview/b_rgb:0f7b47,c_limit,f_jpg,h_630,q_90,w_630/v1465397214/production/designs/536781_1.jpg" class="img-fluid">
                    <img src="https://res.cloudinary.com/teepublic/image/private/s--fX47AfFz--/t_Preview/b_rgb:0f7b47,c_limit,f_jpg,h_630,q_90,w_630/v1465397214/production/designs/536781_1.jpg" class="img-fluid">
                    <img src="https://res.cloudinary.com/teepublic/image/private/s--fX47AfFz--/t_Preview/b_rgb:0f7b47,c_limit,f_jpg,h_630,q_90,w_630/v1465397214/production/designs/536781_1.jpg" class="img-fluid">
                    <img src="https://res.cloudinary.com/teepublic/image/private/s--fX47AfFz--/t_Preview/b_rgb:0f7b47,c_limit,f_jpg,h_630,q_90,w_630/v1465397214/production/designs/536781_1.jpg" class="img-fluid">
                    <img src="https://res.cloudinary.com/teepublic/image/private/s--fX47AfFz--/t_Preview/b_rgb:0f7b47,c_limit,f_jpg,h_630,q_90,w_630/v1465397214/production/designs/536781_1.jpg" class="img-fluid">
                    <img src="https://res.cloudinary.com/teepublic/image/private/s--fX47AfFz--/t_Preview/b_rgb:0f7b47,c_limit,f_jpg,h_630,q_90,w_630/v1465397214/production/designs/536781_1.jpg" class="img-fluid">
                    <img src="https://res.cloudinary.com/teepublic/image/private/s--fX47AfFz--/t_Preview/b_rgb:0f7b47,c_limit,f_jpg,h_630,q_90,w_630/v1465397214/production/designs/536781_1.jpg" class="img-fluid">
                    <img src="https://res.cloudinary.com/teepublic/image/private/s--fX47AfFz--/t_Preview/b_rgb:0f7b47,c_limit,f_jpg,h_630,q_90,w_630/v1465397214/production/designs/536781_1.jpg" class="img-fluid"> -->

                </div>

                <div id="title-wrapper" class="container my-5">
                    <h1 class="mx-auto display-4">Results for <%= foodName %></h1>
                </div>

                <div id="results-wrapper" class="container">
                    <!-- TODO table here -->
                    <div class="row">
                        <div class="col mx-4">
                            <table class="table table-striped table-borderless">
                                <thead>
                                    <tr>
                                        <h3>Restaurants</h3>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="col">
                                            <table class="table">
                                                <tbody>
                                                    <tr style="background-color: inherit;">
                                                        <td>name</td>
                                                        <td>stars</td>
                                                    </tr>
                                                    <tr style="background-color: inherit;">
                                                        <td>minutes</td>
                                                        <td>address</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                        <td class="col">$$$</td>
                                    </tr>
                                    <tr>
                                        <td class="col">
                                            <table class="table">
                                                <tbody>
                                                    <tr style="background-color: inherit;">
                                                        <td>name</td>
                                                        <td>stars</td>
                                                    </tr>
                                                    <tr style="background-color: inherit;">
                                                        <td>minutes</td>
                                                        <td>address</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                        <td class="col">$$$</td>
                                    </tr>
                                    <tr>
                                        <td class="col">
                                            <table class="table">
                                                <tbody>
                                                    <tr style="background-color: inherit;">
                                                        <td>name</td>
                                                        <td>stars</td>
                                                    </tr>
                                                    <tr style="background-color: inherit;">
                                                        <td>minutes</td>
                                                        <td>address</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                        <td class="col">$$$</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col mx-4">
                            <table class="table table-striped table-borderless">
                                <thead>
                                    <tr>
                                        <h3>Recipes</h3>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="col">
                                            <table class="table">
                                                <tbody>
                                                    <tr style="background-color: inherit;">
                                                        <td>name</td>
                                                        <td>stars</td>
                                                    </tr>
                                                    <tr style="background-color: inherit;">
                                                        <td>minutes</td>
                                                        <td>address</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                        <td class="col">$$$</td>
                                    </tr>
                                    <tr>
                                        <td class="col">
                                            <table class="table">
                                                <tbody>
                                                    <tr style="background-color: inherit;">
                                                        <td>name</td>
                                                        <td>stars</td>
                                                    </tr>
                                                    <tr style="background-color: inherit;">
                                                        <td>minutes</td>
                                                        <td>address</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                        <td class="col">$$$</td>
                                    </tr>
                                    <tr>
                                        <td class="col">
                                            <table class="table">
                                                <tbody>
                                                    <tr style="background-color: inherit;">
                                                        <td>name</td>
                                                        <td>stars</td>
                                                    </tr>
                                                    <tr style="background-color: inherit;">
                                                        <td>minutes</td>
                                                        <td>address</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                        <td class="col">$$$</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            
            <div class="col-md-auto order-1">
                
                <div id="sidebar-wrapper" class="navbar navbar-light">
                    <div class="navbar-nav" >
                        <ul class="navbar-nav">
                            <form class="form-group" action="" method="post">
                                <li class="nav-item dropdown">
                                    <!-- <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    
                                    </a>
                                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                        <a class="dropdown-item" type="button" href="#">Action</a>
                                        <a class="dropdown-item" type="button" href="#">Another action</a>
                                        <div class="dropdown-divider"></div>
                                        <a class="dropdown-item" type="button" href="#">Something else here</a>
                                    </div> -->
                                    <div class="form-group">
                                        <select required class="form-control">
                                            <option value=""><!-- None --></option>
                                            <option value="Favorites">Favorites</option>
                                            <option value="To Explore">To Explore</option>
                                            <option value="Do Not Show">Do Not Show</option>
                                        </select>
                                    </div>
                                </li>
                                <li class="nav-item">
                                    <input class="btn btn-secondary" type="submit" value="Manage List">
                                </li>
                            </form>
                            <li class="nav-item">
                                <a class="btn btn-secondary" href="#">Return to Search</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        

    </div>

    <script type="text/javascript">
        $( document ).ready(function() {
            console.log( "ready!" );
            for (var i = 0; i < 10; i = i+1) {
                showImage()
            }
            $('img').each(function() {
                var deg = randomIntFromInterval(-45, 45);
                console.log('rotated', deg)
                var numberOfImages = $('img').length;
                var rotate = 'rotate(' + deg + 'deg)';
                //console.log($(this).height());
                var width = (100-5)/((numberOfImages <= 10) ? numberOfImages : 10)*2;
                $(this).css({ 
                    '-webkit-transform': rotate,
                    '-moz-transform': rotate,
                    '-o-transform': rotate,
                    '-ms-transform': rotate,
                    'transform': rotate,
                    //'width': width+'%'
                    'width': 15+'vw'
                });
            });
        });

        // min = minimum rotation in degrees, max = maximum rotation in degrees
        function randomIntFromInterval(min,max) {
            return Math.floor(Math.random()*(max-min+1)+min);
        }

        function showImage() {
            // myImage : ID of image on which to place new image

            var destination = document.getElementById('collage-wrapper');
            
            console.log('here', $('#collage-wrapper').width());
            
            margin = 20;
            
            l = destination.offsetLeft + $('#collage-wrapper').width()/4;
            t = destination.offsetTop + $('#collage-wrapper').height()/4;
            //w = destination.width;
            //h = destination.height;
            w = $('#collage-wrapper').width()/2
            h = $('#collage-wrapper').height()/2
            
            // Location inside the image
            offX = parseInt(Math.random() * w);
            offY = parseInt(Math.random() * h);
            
            if(offX > margin) offX -= margin;
            if(offY > margin) offY -= margin;

            l += offX;
            t += offY;

            var newImage = document.createElement("img");
            newImage.setAttribute('src', 'https://res.cloudinary.com/teepublic/image/private/s--fX47AfFz--/t_Preview/b_rgb:0f7b47,c_limit,f_jpg,h_630,q_90,w_630/v1465397214/production/designs/536781_1.jpg');
            newImage.setAttribute('class', 'overlays');
            newImage.style.left = l + "px";
            newImage.style.top = t + "px";
            console.log(document.body.appendChild(newImage));
        }    
    </script>
    

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

</body>
</html>